<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GNSS ReflectoLoc</title>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.151.3/build/three.module.js",
          "three/": "https://unpkg.com/three@0.151.3/examples/jsm/",
          "@kurkle/color": "https://cdn.skypack.dev/@kurkle/color"
        }
      }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.1/chart.umd.min.js" integrity="sha512-GCiwmzA0bNGVsp1otzTJ4LWQT2jjGJENLGyLlerlzckNI30moi2EQT0AfRI7fLYYYDKR+7hnuh35r3y1uJzugw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js" integrity="sha256-UDxwmAK+KFxnav4Dab9fcgZtCwwjkpGIwxWPNcAyepw=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/moment@^2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@^1"></script>

    <script src="https://unpkg.com/konva@8.4.3/konva.min.js"></script>

    <!-- use fork for CJS4 support: cdm-consultores/chartjs-plugin-crosshair -->
    <script src="/chartjs-plugin-crosshair.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!--<link href="https://cesium.com/downloads/cesiumjs/releases/1.104/Build/Cesium/Widgets/widgets.css" rel="stylesheet">-->
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <div class="row row-cols-1 m-1">
      <div class="col">
        <form id="observer-form">
          <div class="row mb-1">
            <label for="input-lat" class="col-sm-2 col-form-label">Lat [°]</label>
            <div class="col-sm-2">
              <input type="text" name="lat" id="input-lat" class="form-control" value="47.461412">
            </div>
            <label for="input-azim-min" class="col-sm-2 col-form-label">Min azimuth [°]</label>
            <div class="col-sm-2">
              <input type="number" min="0.0" max="360.0" step="1.0" name="azim_min" id="input-azim-min" class="form-control" value="170">
            </div>
            <label for="input-elev-min" class="col-sm-2 col-form-label">Min elevation [°]</label>
            <div class="col-sm-2">
              <input type="number" min="0.0" max="90.0" step="1.0" name="elev_min" id="input-elev-min" class="form-control" value="0">
            </div>
          </div>
          <div class="row mb-1">
            <label for="input-lon" class="col-sm-2 col-form-label">Lon [°]</label>
            <div class="col-sm-2">
              <input type="text" name="lon" id="input-lon" class="form-control" value="18.928819">
            </div>
            <label for="input-azim-max" class="col-sm-2 col-form-label">Max azimuth [°]</label>
            <div class="col-sm-2">
              <input type="number" min="0.0" max="360.0" step="1.0" name="azim_max" id="input-azim-max" class="form-control" value="260">
            </div>
            <label for="input-elev-max" class="col-sm-2 col-form-label">Max elevation [°]</label>
            <div class="col-sm-2">
              <input type="number" min="0.0" max="90.0" step="1.0" name="elev_max" id="input-elev-max" class="form-control" value="20">
            </div>
          </div>
          <div class="row mb-1">
            <label for="input-height" class="col-sm-2 col-form-label">Height [m AMSL]</label>
            <div class="col-sm-2">
              <input type="number" step="1.0" name="height" id="input-height" class="form-control" value="190">
            </div>
            <div class="col-sm-4">
              <label class="col-form-label">
                <span style="color: #3282F6;">GPS</span> <span style="color: #00FF00;">GALILEO</span> <span style="color: #FF0000;">GLONASS</span>
              </label>
            </div>
            <div class="col-sm-4">
              <button class="btn btn-primary w-100" id="start-calc-btn">Calculate</button>
            </div>
          </div>
        </form>
      </div>
      <div class="col chart-row chart-container">
        <canvas id="visibility-line-chart-container"></canvas>
      </div>
      <div class="col">
        <hr>
      </div>
      <div class="col chart-row chart-container">
        <canvas id="elevation-chart-container"></canvas>
      </div>
      <div class="col">
        <hr>
      </div>
      <div class="col" id="timeSelector-container">
        <div class="row">
          <div class="col">
            <input type="range" id="timeSelector" step="300">
          </div>
          <div class="col-auto">
            <span id="timeDisplay"></span>
          </div>
        </div>
      </div>
      <div class="col">
        <hr>
      </div>
      <div class="col">
        <div class="row row-cols-2">
          <div class="col" id="canvas-eci-container">
            <canvas id="canvas-eci"></canvas>
          </div>
          <div class="col" id="canvas-ecef-container">
            <div id="canvas-ecef"></div>
          </div>
        </div>
      </div>
    </div>
    <div id="loading-overlay">
      <div id="loading-overlay-content" class="text-center">
        <img class="img-fluid pb-2" src="./load.gif" alt="...">
        <h2 id="loading-overlay-text" class="text-center">Loading...</h2>
      </div>
    </div>
    <!--<div id="cesiumContainer"></div>-->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="module" src="/main.js"></script>
    <!--<script src="https://cesium.com/downloads/cesiumjs/releases/1.104/Build/Cesium/Cesium.js"></script>-->
  </body>
</html>
